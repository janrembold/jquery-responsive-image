/*! jquery-responsive-image - v1.5.0 - 2018-09-17
* Copyright (c) 2018 Jan Rembold <janrembold@gmail.com>; License: MIT */

!function(a,b,c,d){"use strict";function e(b,c){var d=this;d.$element=a(b),d.options=a.extend({},g,c),d.sources=[],d.dpr=d.getDpr(),d.attributeCount=d.options.attributes.length,void 0!==d.$element.data("source-prefix")&&(d.options.sourcePrefix=d.$element.data("source-prefix")),d.init()}var f="responsiveImage",g={source:"> span",sourcePrefix:"",container:null,minWidthDefault:0,maxWidthDefault:Number.MAX_VALUE,minDprDefault:1,attributes:["title","alt","class","width","height"],resizeEvent:"resize",preload:!1,autoDpr:!1,onGetWidth:null,onLoadSources:null,onLoadImageError:null};a.extend(e.prototype,{init:function(){var a=this;if(a.sources=a.loadSources(),0!==a.sources.length){var b=a.$element.attr("data-container")||a.options.container;b&&(a.$container=a.$element.parents(b)),a.loadResponsiveImage(),a.initResizeEvent(),a.$element.on("load.responsiveImage",function(){a.loadResponsiveImage()})}},loadSources:function(){var b=this,c=[];return a.isFunction(b.options.onLoadSources)?c=b.options.onLoadSources(b):b.$element.find(b.options.source).each(function(){var d=a(this);if(d.data("src")){for(var e={src:b.options.sourcePrefix+d.data("src"),minWidth:d.data("min-width")||b.options.minWidthDefault,maxWidth:d.data("max-width")||b.options.maxWidthDefault,minDpr:d.data("min-dpr")||b.options.minDprDefault},f=0;f<b.attributeCount;f++){var g=b.options.attributes[f];e[g]=d.data(g)||b.$element.data(g)}c.push(e)}}),c.sort(function(a,b){return b.minWidth===a.minWidth?b.maxWidth===a.maxWidth?b.minDpr-a.minDpr:b.maxWidth-a.maxWidth:b.minWidth-a.minWidth}),c},loadResponsiveImage:function(){for(var a,b=this,c=b.getWidth(),d=b.sources.length,e=0;e<d;e++)if(b.sources[e].minWidth<=c&&b.sources[e].maxWidth>c&&b.sources[e].minDpr<=b.dpr){a=b.sources[e];break}if(a!==b.$currentSource){b.$currentSource=a;var f=b.createImageWithAttributes(a);b.options.preload||b.setNewSource(f)}},setNewSource:function(a){var b=this;b.$element.html(a),b.$element.trigger("new.source."+f)},getWidth:function(){var d,e=this;return d=a.isFunction(e.options.onGetWidth)?e.options.onGetWidth.call(this):e.$container?e.$container.width():b.innerWidth||c.documentElement.clientWidth||c.body.clientWidth,e.options.autoDpr&&(d*=e.dpr),d},getDpr:function(){var a=1;return b.screen.systemXDPI!==d&&b.screen.logicalXDPI!==d&&b.screen.systemXDPI>b.screen.logicalXDPI?a=b.screen.systemXDPI/b.screen.logicalXDPI:b.devicePixelRatio!==d&&(a=b.devicePixelRatio),a>=1?a:1},createImageWithAttributes:function(b){for(var c=this,d=a("<img/>"),e=0;e<c.attributeCount;e++){var f=c.options.attributes[e];void 0!==b[f]&&""!==b[f]&&d.attr(f,b[f])}return d.on("load",function(){c.$element.trigger("load.source.responsiveImage"),c.options.preload&&c.setNewSource(d)}).attr("src",b.src),d.on("error",function(){c.$element.trigger("error.load.responsiveImage"),a.isFunction(c.options.onLoadImageError)&&c.options.onLoadImageError(c)}),d.get(0).complete&&d.trigger("load"),d},initResizeEvent:function(){var c=this;""!==c.options.resizeEvent&&a(b).on(c.options.resizeEvent,a.proxy(c.loadResponsiveImage,c))}}),a.fn[f]=function(c){return this.each(function(){a.data(this,"plugin_"+f)||(a.data(this,"plugin_"+f,new e(this,c)),a(this).trigger("ready."+f)),a(b).trigger("all.ready."+f)})}}(jQuery,window,document);
//# sourceMappingURL=jquery.responsiveImage.map